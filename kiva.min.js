/**
 * kiva.js - v0.1.0 - 2013-02-04 6:42:39 PM
 * http://kiva.org/
 * Copyright (c) 2013 kiva.org
 */
(function(e,t,n){"use strict";var r=1,i=1,s=1,o="api.kivaws.org",u="zip.kiva.org",a="/v",f="/v";t.kiva={ver:r,kVer:i,zVer:s,kivaSrc:"http://"+o+a+i,zipSrc:"http://"+u+f+s};var l=Function;kiva.Object=function(){},kiva.Object.extend=function(t){var n=t&&t.name?(new l("return function "+t.name+" () {}"))():function(){};return n.prototype=e.extend({},this.prototype,t),n.prototype.__proto__=this.prototype,n._super=this,n=e.extend(n,this),n},kiva.Object.create=function(t){var n=this,r=new n;return e.extend(r,t)},kiva.RequestObject=kiva.Object.extend({name:"RequestObject",kivaSrc:kiva.kivaSrc,zipSrc:kiva.zipSrc,members:[],plurals:{},pluralize:function(e){},buildUrl:function(t){var n,r,i,s=[this.kivaSrc];if(t){e.isArray(t)?n=t:typeof t=="number"?n=[t]:(n=t.ids,r=t.action,i=t.params);if(n&&!e.isArray(n))throw'Error: "ids" must be an array';r?(n&&s.push(n[0]),s.push(r)):n&&(n=n.join(","),s.push(n))}return this.kivaSrcSuffix&&s.push(this.kivaSrcSuffix),s=s.join("/")+".json",i&&(s+="?",e.each(i,function(e,t){s+=e+"="+t+"&"})),s},fetch:function(t){var n=this,r=e.getJSON(this.buildUrl(t));return r.done(function(e){n.members=e[n.name.toLowerCase()]})}}),kiva.JournalEntries=kiva.RequestObject.extend({name:"JournalEntries",kivaSrc:kiva.kivaSrc+"/journal_entries",zipSrc:kiva.zipSrc+"/journal_entries",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.JournalEntries.Comments=kiva.RequestObject.extend({name:"Comments",kivaSrc:kiva.kivaSrc+"/journal_entries",kivaSrcSuffix:"comments",zipSrc:kiva.zipSrc+"/journal_entries",zipSrcSuffix:"comments",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Lenders=kiva.RequestObject.extend({name:"Lenders",kivaSrc:kiva.kivaSrc+"/lenders",zipSrc:kiva.zipSrc+"/lenders",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Lenders.Loans=kiva.RequestObject.extend({name:"Loans",kivaSrc:kiva.kivaSrc+"/lenders",kivaSrcSuffix:"loans",zipSrc:kiva.zipSrc+"/lenders",zipSrcSuffix:"loans",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Lenders.Teams=kiva.RequestObject.extend({name:"Teams",kivaSrc:kiva.kivaSrc+"/lenders",kivaSrcSuffix:"teams",zipSrc:kiva.zipSrc+"/lenders",zipSrcSuffix:"teams",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Loans=kiva.RequestObject.extend({name:"Loans",kivaSrc:kiva.kivaSrc+"/loans",zipSrc:kiva.zipSrc+"/loans",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Loans.JournalEntries=kiva.RequestObject.extend({name:"JournalEntries",kivaSrc:kiva.kivaSrc+"/loans",kivaSrcSuffix:"journal_entries",zipSrc:kiva.zipSrc+"/loans",zipSrcSuffix:"journal_entries",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Loans.Lenders=kiva.RequestObject.extend({name:"Lenders",kivaSrc:kiva.kivaSrc+"/loans",kivaSrcSuffix:"lenders",zipSrc:kiva.zipSrc+"/loans",zipSrcSuffix:"lenders",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Loans.Updates=kiva.RequestObject.extend({name:"Updates",kivaSrc:kiva.kivaSrc+"/loans",kivaSrcSuffix:"updates",zipSrc:kiva.zipSrc+"/loans",zipSrcSuffix:"updates",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Partners=kiva.RequestObject.extend({name:"Partners",kivaSrc:kiva.kivaSrc+"/partners",zipSrc:kiva.zipSrc+"/partners",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Teams=kiva.RequestObject.extend({name:"Teams",kivaSrc:kiva.kivaSrc+"/teams",zipSrc:kiva.zipSrc+"/teams",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Teams.Lenders=kiva.RequestObject.extend({name:"Lenders",kivaSrc:kiva.kivaSrc+"/teams",kivaSrcSuffix:"lenders",zipSrc:kiva.zipSrc+"/teams",zipSrcSuffix:"lenders",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}}),kiva.Teams.Loans=kiva.RequestObject.extend({name:"Loans",kivaSrc:kiva.kivaSrc+"/teams",kivaSrcSuffix:"loans",zipSrc:kiva.zipSrc+"/teams",zipSrcSuffix:"loans",fetch:function(e){return kiva.RequestObject.prototype.fetch.call(this,e)}})})(jQuery,this);